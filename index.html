<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>REGISTROS FOTOGR√ÅFICOS</title>
  <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/tesseract.js/4.1.1/tesseract.min.js"></script>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container">
    <!-- √Årea que ser√° capturada -->
    <div class="report-layout" id="captureArea">
      <div class="report-header">REGISTROS FOTOGR√ÅFICOS</div>
      
      <div class="report-content">
        <!-- Bloco 1 -->
        <div class="photo-block">
          <div class="block-title">IN√çCIO DA INSPE√á√ÉO<br><span>V√ÅLVULA NO RECEBIMENTO</span></div>
          <div class="photo-container">
            <img id="photo1" class="photo-preview" alt="Foto da inspe√ß√£o inicial">
            <div id="loading1" class="loading-overlay">
              <div class="spinner"></div>
              <span>Analisando orienta√ß√£o...</span>
            </div>
          </div>
        </div>

        <!-- Bloco 2 -->
        <div class="photo-block">
          <div class="block-title">DURANTE A INSPE√á√ÉO<br><span>V√ÅLVULA TRABALHANDO</span></div>
          <div class="photo-container">
            <img id="photo2" class="photo-preview" alt="Foto durante a inspe√ß√£o">
            <div id="loading2" class="loading-overlay">
              <div class="spinner"></div>
              <span>Analisando orienta√ß√£o...</span>
            </div>
          </div>
        </div>

        <!-- Bloco 3 -->
        <div class="photo-block">
          <div class="block-title">T√âRMINO DA INSPE√á√ÉO<br><span>V√ÅLVULA PRONTA</span></div>
          <div class="photo-container">
            <img id="photo3" class="photo-preview" alt="Foto do t√©rmino da inspe√ß√£o">
            <div id="loading3" class="loading-overlay">
              <div class="spinner"></div>
              <span>Analisando orienta√ß√£o...</span>
            </div>
          </div>       
        </div>
      </div>
    </div>

    <!-- Controles de upload (fora da √°rea de captura) -->
    <div class="controls">
      <input type="file" accept="image/*" id="upload1" onchange="loadPhoto(this, 'photo1')" style="display:none">
      <input type="file" accept="image/*" id="upload2" onchange="loadPhoto(this, 'photo2')" style="display:none">
      <input type="file" accept="image/*" id="upload3" onchange="loadPhoto(this, 'photo3')" style="display:none">

      <div class="control-group">
        <button onclick="triggerUpload(1)" class="upload-btn">Foto Inicial</button>
        <button onclick="rotatePhoto('photo1')" class="rotate-btn">üîÑ Girar</button>
      </div>

      <div class="control-group">
        <button onclick="triggerUpload(2)" class="upload-btn">Foto Durante</button>
        <button onclick="rotatePhoto('photo2')" class="rotate-btn">üîÑ Girar</button>
      </div>

      <div class="control-group">
        <button onclick="triggerUpload(3)" class="upload-btn">Foto Final</button>
        <button onclick="rotatePhoto('photo3')" class="rotate-btn">üîÑ Girar</button>
      </div>

      <button onclick="saveReport()" class="save-btn">Salvar Relat√≥rio</button>
    </div>

    <!-- Se√ß√£o de textos para c√≥pia -->
    <div class="copy-texts-section">
      <div class="copy-texts-header">
        TEXTOS PADRONIZADOS
      </div>
      
      <div class="copy-texts-content">
        <!-- Item 1: Calibra√ß√£o Vencida -->
        <div class="text-item">
          <div class="text-item-header">
            <div class="text-item-title">Calibra√ß√£o Vencida</div>
            <button class="copy-btn" onclick="copyText(this, 'calibracao-text')">
              <span class="copy-icon">üìã</span>
              <span class="copy-text">Copiar</span>
            </button>
          </div>
          <div class="text-content" id="calibracao-text">
            Foi realizado a calibra√ß√£o da v√°lvula de seguran√ßa conforme os procedimentos internos normativos, utilizando equipamentos devidamente calibrados e rastreados.
          </div>
        </div>

        <!-- Item 2: Observa√ß√µes Apresentadas -->
        <div class="text-item">
          <div class="text-item-header">
            <div class="text-item-title">Observa√ß√µes Apresentadas</div>
            <button class="copy-btn" onclick="copyText(this, 'observacoes-text')">
              <span class="copy-icon">üìã</span>
              <span class="copy-text">Copiar</span>
            </button>
          </div>
          <div class="text-content" id="observacoes-text">
            Os resultados obtidos confirmam que a v√°lvula atende aos requisitos especificados para seu pleno funcionamento e seguran√ßa operacional.
          </div>
        </div>
      </div>
    </div>

    <!-- Notifica√ß√£o de c√≥pia -->
    <div id="copyNotification" class="copy-notification">
      ‚úÖ Texto copiado com sucesso!
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>